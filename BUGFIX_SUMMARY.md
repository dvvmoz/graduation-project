# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ get_answer

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
local variable 'get_answer' referenced before assignment
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

–í `modules/bot_handler.py` –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å —Ñ—É–Ω–∫—Ü–∏—è `get_answer` –∏–∑ `modules/llm_service.py`, –Ω–æ –≤ —Å–∞–º–æ–º –º–æ–¥—É–ª–µ `llm_service.py` —Ñ—É–Ω–∫—Ü–∏—è `get_answer` –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ `LLMService`, –∞ –Ω–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞ –≤ `modules/llm_service.py`:

```python
def get_answer(user_question: str, context_docs: List[Dict[str, Any]]) -> str:
    """
    –§—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM.
    
    Args:
        user_question: –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        context_docs: –°–ø–∏—Å–æ–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
        
    Returns:
        –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
    """
    llm_service = get_llm_service()
    return llm_service.get_answer(user_question, context_docs)
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ **–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞**
- ‚úÖ **–ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç**

## üéØ –°—Ç–∞—Ç—É—Å

**–ò–°–ü–†–ê–í–õ–ï–ù–û** - –°–∏—Å—Ç–µ–º–∞ –Æ—Ä–ü–æ–º–æ—â–Ω–∏–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. 