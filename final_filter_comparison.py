#!/usr/bin/env python3
"""
–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤: –±–∞–∑–æ–≤–æ–≥–æ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ.
"""
import disable_telemetry
import os
import sys
from pathlib import Path

# –û—Ç–∫–ª—é—á–∞–µ–º —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é ChromaDB
os.environ["ANONYMIZED_TELEMETRY"] = "False"
os.environ["CHROMA_TELEMETRY"] = "False"

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ sys.path
project_root = Path(__file__).parent
sys.path.insert(0, str(project_root))

from modules.question_filter import QuestionFilter
from modules.improved_question_filter import ImprovedQuestionFilter
from typing import List, Dict, Tuple

class FinalFilterComparison:
    """–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤."""
    
    def __init__(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤."""
        print("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤...")
        self.basic_filter = QuestionFilter()
        self.improved_filter = ImprovedQuestionFilter()
        print("‚úÖ –§–∏–ª—å—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã")
        
        # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏
        self.test_cases = [
            # === –î–û–õ–ñ–ù–´ –ë–´–¢–¨ –Æ–†–ò–î–ò–ß–ï–°–ö–ò–ú–ò ===
            
            # 1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
            ("–ö–∞–∫ –ø–æ–¥–∞—Ç—å –∏—Å–∫ –≤ —Å—É–¥ –≤ –ë–µ–ª–∞—Ä—É—Å–∏?", True, "—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"),
            ("–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–∑–≤–æ–¥–∞ –≤ –†–ë?", True, "—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"),
            ("–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å —Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä –ø–æ –¢–ö –†–ë?", True, "—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"),
            ("–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∞ —É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –≤ –ë–µ–ª–∞—Ä—É—Å–∏?", True, "—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"),
            ("–ö–∞–∫ –æ–±–∂–∞–ª–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∞?", True, "—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π"),
            
            # 2. –†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
            ("–ú–µ–Ω—è –∫–∏–Ω—É–ª–∏ —Å –¥–µ–Ω—å–≥–∞–º–∏, —á—Ç–æ –¥–µ–ª–∞—Ç—å?", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–ù–∞—á–∞–ª—å–Ω–∏–∫ –Ω–µ –ø–ª–∞—Ç–∏—Ç –∑–∞—Ä–ø–ª–∞—Ç—É —É–∂–µ –º–µ—Å—è—Ü", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–°–æ—Å–µ–¥–∏ —à—É–º—è—Ç –ø–æ –Ω–æ—á–∞–º, –∫–∞–∫ –∏—Ö —É—Ç–∏—Ö–æ–º–∏—Ä–∏—Ç—å?", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–†–∞–∑–≤–æ–∂—É—Å—å —Å –º—É–∂–µ–º, –æ–Ω –Ω–µ –¥–∞–µ—Ç –¥–µ–Ω–µ–≥ –Ω–∞ —Ä–µ–±–µ–Ω–∫–∞", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–ö—É–ø–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω, –∞ –æ–Ω —Å–ª–æ–º–∞–ª—Å—è —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–ú–µ–Ω—è —É–≤–æ–ª–∏–ª–∏ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–ë–∞–Ω–∫ —Å–ø–∏—Å–∞–ª –¥–µ–Ω—å–≥–∏ –±–µ–∑ –º–æ–µ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–í—Ä–∞—á —Å–¥–µ–ª–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–ü–æ–ª–∏—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∞–ª–∞ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            ("–£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ –¥–µ–ª–∞–µ—Ç —Ä–µ–º–æ–Ω—Ç", True, "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π"),
            
            # 3. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã
            ("–≠—Å—Ç–æ–ø–ø–µ–ª—å –≤ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–º –ø—Ä–∞–≤–µ", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–°—É–±—Å–∏–¥–∏–∞—Ä–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —É—á—Ä–µ–¥–∏—Ç–µ–ª–µ–π", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–í–∏–Ω–¥–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –∏—Å–∫ –ø—Ä–æ—Ç–∏–≤ –¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—è", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–ù–µ–≥–∞—Ç–æ—Ä–Ω—ã–π –∏—Å–∫ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–†–µ—Å—Ç–∏—Ç—É—Ü–∏—è –ø—Ä–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–¶–µ—Å—Å–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É –ø–æ–¥—Ä—è–¥–∞", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–ù–æ–≤–∞—Ü–∏—è –¥–æ–ª–≥–∞ –≤ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–º –ø—Ä–∞–≤–µ", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–°—É–±—Ä–æ–≥–∞—Ü–∏—è –≤ —Å—Ç—Ä–∞—Ö–æ–≤–æ–º –ø—Ä–∞–≤–µ", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–î–µ–ª–∏–∫—Ç–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø—Ä–∏—á–∏–Ω–µ–Ω–∏–µ –≤—Ä–µ–¥–∞", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            ("–í–∏–Ω–¥–∏–∫–∞—Ü–∏—è –±–µ–∑–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ä–Ω—ã—Ö —Ü–µ–Ω–Ω—ã—Ö –±—É–º–∞–≥", True, "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π"),
            
            # 4. –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã
            ("–ß—Ç–æ —Ç–∞–∫–æ–µ habeas corpus?", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ü—Ä–∏–Ω—Ü–∏–ø pacta sunt servanda", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–î–æ–∫—Ç—Ä–∏–Ω–∞ res ipsa loquitur", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ü—Ä–∞–≤–∏–ª–æ de minimis non curat lex", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ü—Ä–∏–Ω—Ü–∏–ø ultra vires –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º –ø—Ä–∞–≤–µ", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç pro bono –≤ —é—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü–∏–∏?", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ö–æ–Ω—Ü–µ–ø—Ü–∏—è force majeure –≤ –¥–æ–≥–æ–≤–æ—Ä–∞—Ö", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ü—Ä–∏–Ω—Ü–∏–ø caveat emptor –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–î–æ–∫—Ç—Ä–∏–Ω–∞ respondeat superior", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            ("–ü—Ä–∞–≤–∏–ª–æ nemo dat quod non habet", True, "–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π"),
            
            # 5. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
            ("–ü—Ä–∞–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∂–∏–∑–Ω–∏ –∏ –∑–¥–æ—Ä–æ–≤—å—è", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ó–∞—â–∏—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–¢—Ä—É–¥–æ–≤—ã–µ —Å–ø–æ—Ä—ã —Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤—Ä–∞—á–µ–π", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —É—Å–ª—É–≥–∏ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ?", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∞ —É –º–µ–Ω—è –µ—Å—Ç—å?", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —Å–≤–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã?", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            ("–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –¥–æ–ª–≥–∞–º–∏?", True, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π"),
            
            # 6. –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            ("–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∏—Ä–æ–≤–æ–π —Å—É–¥ –≤ –ú–∏–Ω—Å–∫–µ?", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ò–ü –≤ –ì–æ–º–µ–ª–µ", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–ù–∞–ª–æ–≥–æ–≤—ã–µ –ª—å–≥–æ—Ç—ã –≤ –ü–í–¢", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–ó–µ–º–µ–ª—å–Ω–æ–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –ë—Ä–µ—Å—Ç—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–ñ–∏–ª–∏—â–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –≤ –í–∏—Ç–µ–±—Å–∫–µ", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–¢—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ –≤ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∑–æ–Ω–∞—Ö", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–ü—Ä–∞–≤–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞—Ö –†–ë", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            ("–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–æ –≤ –ì—Ä–æ–¥–Ω–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", True, "—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π"),
            
            # === –ù–ï –î–û–õ–ñ–ù–´ –ë–´–¢–¨ –Æ–†–ò–î–ò–ß–ï–°–ö–ò–ú–ò ===
            
            # 7. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
            ("–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—É–¥ –ø—Ä–∏—Å—è–∂–Ω—ã—Ö –≤ –∫–∏–Ω–æ?", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–ó–∞—â–∏—Ç–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π –æ—Ç –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–î–æ–≥–æ–≤–æ—Ä —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–ù–∞–ª–æ–≥–æ–≤–∞—è –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –≤ Excel", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–¢—Ä—É–¥–æ–≤–æ–π —Å—Ç–∞–∂ –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∏–≥—Ä–µ", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ Windows", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–ó–∞—â–∏—Ç–∞ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            ("–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è —Ñ–∏—Ä–º–∞ –∏—â–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞", False, "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ"),
            
            # 8. –û–±—ã—á–Ω—ã–µ –Ω–µ—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
            ("–ö–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –±–æ—Ä—â?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –∑–∞–≤—Ç—Ä–∞?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ö–∞–∫ –ø–æ—Ö—É–¥–µ—Ç—å –Ω–∞ 10 –∫–≥?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ì–¥–µ —Å–∫–∞—á–∞—Ç—å —Ñ–∏–ª—å–º?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Windows?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ß—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–∏–Ω–æ?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ö–∞–∫ –≥–æ—Ç–æ–≤–∏—Ç—å –ø–∏—Ü—Ü—É?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ì–¥–µ –∫—É–ø–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ö–∞–∫ –∏–∑—É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫?", False, "–æ–±—ã—á–Ω–æ–µ"),
            ("–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø—Ä–æ—Å—Ç—É–¥–µ?", False, "–æ–±—ã—á–Ω–æ–µ"),
            
            # 9. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ –Ω–µ—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ
            ("–ö–∞–∫ –ø–æ–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã?", False, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π_–Ω–µ_—é—Ä"),
            ("–ß—Ç–æ –º–Ω–µ –¥–µ–ª–∞—Ç—å?", False, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π_–Ω–µ_—é—Ä"),
            ("–ö—É–¥–∞ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é?", False, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π_–Ω–µ_—é—Ä"),
            ("–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã?", False, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π_–Ω–µ_—é—Ä"),
            ("–°–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç?", False, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π_–Ω–µ_—é—Ä"),
            ("–ú–æ–∂–Ω–æ –ª–∏ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?", False, "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π_–Ω–µ_—é—Ä"),
        ]
    
    def run_comprehensive_test(self) -> Dict:
        """–ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤."""
        print("\nüîç –ö–û–ú–ü–õ–ï–ö–°–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –§–ò–õ–¨–¢–†–û–í")
        print("=" * 70)
        
        results = {
            "basic": {"correct": 0, "total": 0, "details": [], "by_category": {}},
            "improved": {"correct": 0, "total": 0, "details": [], "by_category": {}},
            "improvements": [],
            "regressions": []
        }
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        categories = set(category for _, _, category in self.test_cases)
        for category in categories:
            results["basic"]["by_category"][category] = {"correct": 0, "total": 0}
            results["improved"]["by_category"][category] = {"correct": 0, "total": 0}
        
        print(f"\n{'–í–æ–ø—Ä–æ—Å':<50} {'–û–∂–∏–¥–∞–µ—Ç—Å—è':<10} {'–ë–∞–∑–æ–≤—ã–π':<12} {'–£–ª—É—á—à–µ–Ω–Ω—ã–π':<12} {'–†–µ–∑—É–ª—å—Ç–∞—Ç'}")
        print("-" * 90)
        
        for question, expected, category in self.test_cases:
            # –¢–µ—Å—Ç–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä
            basic_is_legal, basic_score, basic_explanation = self.basic_filter.is_legal_question(question)
            basic_correct = basic_is_legal == expected
            
            # –¢–µ—Å—Ç–∏—Ä—É–µ–º —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä
            improved_is_legal, improved_score, improved_explanation = self.improved_filter.is_legal_question(question)
            improved_correct = improved_is_legal == expected
            
            # –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            results["basic"]["total"] += 1
            results["improved"]["total"] += 1
            
            if basic_correct:
                results["basic"]["correct"] += 1
            if improved_correct:
                results["improved"]["correct"] += 1
            
            # –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            results["basic"]["by_category"][category]["total"] += 1
            results["improved"]["by_category"][category]["total"] += 1
            
            if basic_correct:
                results["basic"]["by_category"][category]["correct"] += 1
            if improved_correct:
                results["improved"]["by_category"][category]["correct"] += 1
            
            # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏
            results["basic"]["details"].append({
                "question": question,
                "expected": expected,
                "predicted": basic_is_legal,
                "correct": basic_correct,
                "score": basic_score,
                "category": category
            })
            
            results["improved"]["details"].append({
                "question": question,
                "expected": expected,
                "predicted": improved_is_legal,
                "correct": improved_correct,
                "score": improved_score,
                "category": category
            })
            
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if not basic_correct and improved_correct:
                result = "‚úÖ –£–õ–£–ß–®–ï–ù–û"
                results["improvements"].append(question)
            elif basic_correct and not improved_correct:
                result = "‚ùå –£–•–£–î–®–ï–ù–û"
                results["regressions"].append(question)
            elif basic_correct and improved_correct:
                result = "‚úì –û–ö"
            else:
                result = "‚ùå –û–ë–ê –ù–ï–í–ï–†–ù–û"
            
            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—ã–≤–æ–¥
            expected_str = "–Æ–†" if expected else "–ù–ï –Æ–†"
            basic_str = f"{'–Æ–†' if basic_is_legal else '–ù–ï –Æ–†'} ({basic_score:.2f})"
            improved_str = f"{'–Æ–†' if improved_is_legal else '–ù–ï –Æ–†'} ({improved_score:.2f})"
            
            print(f"{question[:48]:<50} {expected_str:<10} {basic_str:<12} {improved_str:<12} {result}")
        
        return results
    
    def print_detailed_analysis(self, results: Dict):
        """–í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤."""
        print("\nüìä –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í")
        print("=" * 70)
        
        # –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        basic_accuracy = results["basic"]["correct"] / results["basic"]["total"] * 100
        improved_accuracy = results["improved"]["correct"] / results["improved"]["total"] * 100
        improvement = improved_accuracy - basic_accuracy
        
        print(f"\nüéØ –û–ë–©–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:")
        print(f"–ë–∞–∑–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä:      {basic_accuracy:.1f}% ({results['basic']['correct']}/{results['basic']['total']})")
        print(f"–£–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä:   {improved_accuracy:.1f}% ({results['improved']['correct']}/{results['improved']['total']})")
        print(f"–£–ª—É—á—à–µ–Ω–∏–µ:           {improvement:+.1f}%")
        print(f"–£–ª—É—á—à–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤:  {len(results['improvements'])}")
        print(f"–£—Ö—É–¥—à–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤:  {len(results['regressions'])}")
        
        # –ê–Ω–∞–ª–∏–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
        print(f"\nüìã –ê–ù–ê–õ–ò–ó –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú:")
        print(f"{'–ö–∞—Ç–µ–≥–æ—Ä–∏—è':<20} {'–ë–∞–∑–æ–≤—ã–π':<12} {'–£–ª—É—á—à–µ–Ω–Ω—ã–π':<12} {'–ò–∑–º–µ–Ω–µ–Ω–∏–µ'}")
        print("-" * 60)
        
        for category in sorted(results["basic"]["by_category"].keys()):
            basic_cat = results["basic"]["by_category"][category]
            improved_cat = results["improved"]["by_category"][category]
            
            basic_acc = basic_cat["correct"] / basic_cat["total"] * 100 if basic_cat["total"] > 0 else 0
            improved_acc = improved_cat["correct"] / improved_cat["total"] * 100 if improved_cat["total"] > 0 else 0
            change = improved_acc - basic_acc
            
            print(f"{category:<20} {basic_acc:>6.1f}% ({basic_cat['correct']}/{basic_cat['total']}) "
                  f"{improved_acc:>6.1f}% ({improved_cat['correct']}/{improved_cat['total']}) "
                  f"{change:>+6.1f}%")
        
        # –õ—É—á—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
        if results["improvements"]:
            print(f"\n‚úÖ –õ–£–ß–®–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø:")
            for i, question in enumerate(results["improvements"][:10], 1):
                print(f"  {i}. {question}")
        
        # –†–µ–≥—Ä–µ—Å—Å–∏–∏
        if results["regressions"]:
            print(f"\n‚ùå –†–ï–ì–†–ï–°–°–ò–ò (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è):")
            for i, question in enumerate(results["regressions"], 1):
                print(f"  {i}. {question}")
        
        # –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
        print(f"\nüîç –ê–ù–ê–õ–ò–ó –û–°–¢–ê–í–®–ò–•–°–Ø –û–®–ò–ë–û–ö:")
        
        improved_errors = [item for item in results["improved"]["details"] if not item["correct"]]
        error_categories = {}
        
        for error in improved_errors:
            category = error["category"]
            if category not in error_categories:
                error_categories[category] = []
            error_categories[category].append(error)
        
        for category, errors in sorted(error_categories.items()):
            print(f"\n  {category.upper()}: {len(errors)} –æ—à–∏–±–æ–∫")
            for error in errors[:3]:  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 3
                expected_str = "–Æ–†" if error["expected"] else "–ù–ï –Æ–†"
                predicted_str = "–Æ–†" if error["predicted"] else "–ù–ï –Æ–†"
                print(f"    ‚Ä¢ {error['question'][:60]}...")
                print(f"      –û–∂–∏–¥–∞–ª–æ—Å—å: {expected_str}, –ü–æ–ª—É—á–µ–Ω–æ: {predicted_str} (–±–∞–ª–ª: {error['score']:.3f})")
    
    def generate_recommendations(self, results: Dict) -> List[str]:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —É–ª—É—á—à–µ–Ω–∏—é."""
        print(f"\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –î–ê–õ–¨–ù–ï–ô–®–ï–ú–£ –£–õ–£–ß–®–ï–ù–ò–Æ:")
        print("=" * 70)
        
        recommendations = []
        
        # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏
        improved_errors = [item for item in results["improved"]["details"] if not item["correct"]]
        error_by_category = {}
        
        for error in improved_errors:
            category = error["category"]
            if category not in error_by_category:
                error_by_category[category] = []
            error_by_category[category].append(error)
        
        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—à–∏–±–æ–∫
        sorted_categories = sorted(error_by_category.items(), key=lambda x: len(x[1]), reverse=True)
        
        for category, errors in sorted_categories[:5]:  # –¢–æ–ø-5 –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
            error_count = len(errors)
            total_in_category = results["improved"]["by_category"][category]["total"]
            error_rate = error_count / total_in_category * 100
            
            print(f"\nüéØ {category.upper()}: {error_count} –æ—à–∏–±–æ–∫ –∏–∑ {total_in_category} ({error_rate:.1f}%)")
            
            if category == "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ":
                print("   ‚Ä¢ –£—Å–∏–ª–∏—Ç—å –∏—Å–∫–ª—é—á–∞—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤")
                print("   ‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è IT –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤")
                recommendations.append("–£–ª—É—á—à–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤")
                
            elif category == "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π":
                print("   ‚Ä¢ –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–ª–æ–≤–∞—Ä—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤")
                print("   ‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∞—Ç–∏–Ω—Å–∫–∏—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Ñ—Ä–∞–∑")
                recommendations.append("–£–ª—É—á—à–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤")
                
            elif category == "–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π":
                print("   ‚Ä¢ –£–ª—É—á—à–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤")
                print("   ‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –Ω–∞–º–µ—Ä–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
                recommendations.append("–†–∞–∑–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–π –∞–Ω–∞–ª–∏–∑")
                
            elif category == "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π":
                print("   ‚Ä¢ –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–ª–æ–≤–∞—Ä—å —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π")
                print("   ‚Ä¢ –£–ª—É—á—à–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∂–∏—Ç–µ–π—Å–∫–∏—Ö –ø—Ä–∞–≤–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π")
                recommendations.append("–£–ª—É—á—à–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–π —Ä–µ—á–∏")
        
        # –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        improvement = (results["improved"]["correct"] / results["improved"]["total"] * 100) - \
                     (results["basic"]["correct"] / results["basic"]["total"] * 100)
        
        if improvement > 10:
            print(f"\nüéâ –û–¢–õ–ò–ß–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢! –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ {improvement:.1f}%")
            print("   ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω")
            recommendations.append("–í–Ω–µ–¥—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä")
        elif improvement > 5:
            print(f"\n‚úÖ –•–û–†–û–®–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢! –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ {improvement:.1f}%")
            print("   ‚Ä¢ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –ø–æ—Å–ª–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è")
            recommendations.append("–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º")
        else:
            print(f"\n‚ö†Ô∏è  –ù–ï–ó–ù–ê–ß–ò–¢–ï–õ–¨–ù–û–ï –£–õ–£–ß–®–ï–ù–ò–ï: {improvement:.1f}%")
            print("   ‚Ä¢ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º")
            recommendations.append("–î–∞–ª—å–Ω–µ–π—à–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞")
        
        return recommendations
    
    def run_final_comparison(self):
        """–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤."""
        print("üöÄ –§–ò–ù–ê–õ–¨–ù–û–ï –°–†–ê–í–ù–ï–ù–ò–ï –§–ò–õ–¨–¢–†–û–í")
        print("=" * 70)
        
        # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        results = self.run_comprehensive_test()
        
        # –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
        self.print_detailed_analysis(results)
        
        # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        recommendations = self.generate_recommendations(results)
        
        return results, recommendations

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è."""
    try:
        comparison = FinalFilterComparison()
        results, recommendations = comparison.run_final_comparison()
        
        print("\n‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –°–†–ê–í–ù–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!")
        print("\nüéØ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:")
        for i, rec in enumerate(recommendations, 1):
            print(f"  {i}. {rec}")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏: {e}")
        import traceback
        traceback.print_exc()

if __name__ == "__main__":
    main() 