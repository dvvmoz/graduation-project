# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ Pravo.by

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –Ω–∞—Ö–æ–¥–∏–ª –æ—Ç–≤–µ—Ç –Ω–∞ Pravo.by, –Ω–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏ —Ç–æ–≥–æ –∂–µ –≤–æ–ø—Ä–æ—Å–∞ –æ–ø—è—Ç—å –∏—Å–∫–∞–ª –Ω–∞ Pravo.by –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–∂–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π.

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω

### 1. **–û—à–∏–±–∫–∞ –≤ –º–µ—Ç–æ–¥–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
- –í `web_scraper.py` –º–µ—Ç–æ–¥ `add_to_knowledge_base` –ø–µ—Ä–µ–¥–∞–≤–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- `self.knowledge_base.add_document(chunk, metadata)` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `(doc_id, chunk, metadata)`
- –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∞, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ –¥–æ–∫—É–º–µ–Ω—Ç —Å —Ç–∞–∫–∏–º ID
- –ú–æ–≥–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏

### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è**
- –ù–µ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏, –µ—Å—Ç—å –ª–∏ —É–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø–æ—Ö–æ–∂–µ–º—É –∑–∞–ø—Ä–æ—Å—É
- –ö–∞–∂–¥—ã–π —Ä–∞–∑ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ add_document**
```python
# –ë—ã–ª–æ:
self.knowledge_base.add_document(chunk, metadata)

# –°—Ç–∞–ª–æ:
url_hash = hash(page_data['url']) % 1000000
doc_id = f"web_{url_hash}_chunk_{i:03d}"
if self.knowledge_base.add_document(doc_id, chunk, metadata):
    added_count += 1
```

### 2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**
```python
def document_exists(self, doc_id: str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π."""
    try:
        result = self.collection.get(ids=[doc_id])
        return len(result.get('ids', [])) > 0
    except Exception as e:
        return False
```

### 3. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è**
```python
def _check_if_info_already_exists(self, user_question: str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø–æ—Ö–æ–∂–µ–º—É –∑–∞–ø—Ä–æ—Å—É."""
    relevant_docs = search_relevant_docs(user_question, n_results=5)
    
    # –ò—â–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å pravo.by
    dynamic_docs = [
        doc for doc in relevant_docs 
        if doc.get('metadata', {}).get('source_type') == 'pravo.by_dynamic'
    ]
    
    if dynamic_docs:
        best_distance = min(doc['distance'] for doc in dynamic_docs)
        return best_distance < 0.4  # –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
    
    return False
```

### 4. **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- `source_type: 'pravo.by_dynamic'` –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### 5. **–î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**
- `added_date` - –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `source_type` - —Ç–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (pravo.by_dynamic)
- `url` - –∏—Å—Ö–æ–¥–Ω—ã–π URL –¥–æ–∫—É–º–µ–Ω—Ç–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –Ω–∞ —Ç–∞–∫—Å–∏?"
2. –ë–æ—Ç –∏—â–µ—Ç –Ω–∞ pravo.by ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç –∏ "–¥–æ–±–∞–≤–ª—è–µ—Ç" –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –≤–æ–ø—Ä–æ—Å
4. –ë–æ—Ç —Å–Ω–æ–≤–∞ –∏—â–µ—Ç –Ω–∞ pravo.by ‚Üí —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è –∏ —Ä–µ—Å—É—Ä—Å—ã

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –Ω–∞ —Ç–∞–∫—Å–∏?"
2. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–µ—à ‚Üí –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç
3. –ë–æ—Ç –∏—â–µ—Ç –Ω–∞ pravo.by ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç –∏ **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç** –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –≤–æ–ø—Ä–æ—Å
5. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–µ—à ‚Üí **–Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**
6. –ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ –∫–µ—à–∞ ‚Üí **–±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ pravo.by**

## üîÑ –õ–æ–≥–∏–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

```
–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
       ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
       ‚Üì
[–ï—Å—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è?]
       ‚Üì                    ‚Üì
     –î–ê                   –ù–ï–¢
       ‚Üì                    ‚Üì
–û—Ç–≤–µ—Ç –∏–∑ –∫–µ—à–∞        –ü–æ–∏—Å–∫ –Ω–∞ pravo.by
       ‚Üì                    ‚Üì
"üìç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑     –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –±–∞–∑—É
—Ä–∞–Ω–µ–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö           ‚Üì
–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤"         –û—Ç–≤–µ—Ç + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞
```

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **‚ö° –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
2. **üí∞ –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** - –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ pravo.by
3. **üîÑ –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π** - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è
4. **üìà –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞** - —Å–∏—Å—Ç–µ–º–∞ "–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç" —É—Å–ø–µ—à–Ω—ã–µ –ø–æ–∏—Å–∫–∏
5. **üõ°Ô∏è –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–∞–π—Ç–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
1. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –Ω–∞ —Ç–∞–∫—Å–∏ –≤ –ë–µ–ª–∞—Ä—É—Å–∏?"
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ—Ç–≤–µ—Ç–∞ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑ - –ø–æ–∏—Å–∫ –Ω–∞ pravo.by)
3. –ó–∞–¥–∞–π—Ç–µ —Ç–æ—Ç –∂–µ –≤–æ–ø—Ä–æ—Å –ø–æ–≤—Ç–æ—Ä–Ω–æ
4. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –±—ã—Å—Ç—Ä–µ–µ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —Ä–∞–Ω–µ–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤"

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞**. –¢–µ–ø–µ—Ä—å –±–æ—Ç:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤  
- ‚úÖ –ù–µ –¥–µ–ª–∞–µ—Ç –ª–∏—à–Ω–∏—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ pravo.by
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
**–î–∞—Ç–∞**: 2025-01-12
**–ê–≤—Ç–æ—Ä**: AI Assistant 