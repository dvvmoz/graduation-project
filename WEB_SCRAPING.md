# üåê –í–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥ –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–µ–ª–∞—Ä—É—Å—å)

–ú–æ–¥—É–ª—å –≤–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö –∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –≤–µ–±-—Å–∞–π—Ç–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –µ—ë –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –±–æ—Ç–∞, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–µ–≥–æ—Å—è –Ω–∞ –±–µ–ª–æ—Ä—É—Å—Å–∫–æ–º –ø—Ä–∞–≤–µ.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∞–ø–∏–Ω–≥**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤
- **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Å—ã–ª–æ–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º —Å—Å—ã–ª–∫–∞–º
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ ChromaDB
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ —Ä–æ—Ç–∞—Ü–∏—è User-Agent

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥–∞:
```bash
pip install requests beautifulsoup4 aiohttp lxml
```

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

#### –°–∫—Ä–∞–ø–∏–Ω–≥ –æ–¥–Ω–æ–≥–æ —Å–∞–π—Ç–∞:
```bash
# –ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Å–∞–π—Ç
python scripts/scrape_websites.py --url https://pravo.by/ --max-pages 10

# –†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–∞–π—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
python scripts/scrape_websites.py --url https://www.garant.ru/ --max-pages 10
```

#### –î–µ–º–æ-—Å–∫—Ä–∞–ø–∏–Ω–≥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∞–π—Ç–æ–≤:
```bash
python scripts/scrape_websites.py --demo
```

#### –°–∫—Ä–∞–ø–∏–Ω–≥ –∏–∑ —Ñ–∞–π–ª–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º URL:
```bash
python scripts/scrape_websites.py --sites-file data/legal_sites.txt
```

#### –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–∞–π—Ç–æ–≤:
```bash
python scripts/scrape_websites.py --list-sites
```

### 2. –ß–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

```
/scrape https://www.consultant.ru/ 5
```

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```python
from modules.web_scraper import create_scraper_from_config

# –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∞–ø–µ—Ä
scraper = create_scraper_from_config()

# –°–∫—Ä–∞–ø–∏–º —Å–∞–π—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
result = scraper.scrape_and_add("https://www.garant.ru/", max_pages=10)

if result['success']:
    print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü: {result['pages_scraped']}")
    print(f"–î–æ–±–∞–≤–ª–µ–Ω–æ —á–∞–Ω–∫–æ–≤: {result['chunks_added']}")
```

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∞–π—Ç—ã

### üáßüáæ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–æ–≤—ã–µ –ø–æ—Ä—Ç–∞–ª—ã –ë–µ–ª–∞—Ä—É—Å–∏:
- **pravo.by** - –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–∞–≤–æ–≤–æ–π –ø–æ—Ä—Ç–∞–ª –†–ë
- **government.by** - –°–æ–≤–µ—Ç –ú–∏–Ω–∏—Å—Ç—Ä–æ–≤ –†–ë
- **house.gov.by** - –ü–∞–ª–∞—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π
- **kc.gov.by** - –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π –°—É–¥ –†–ë

### üáßüáæ –°—É–¥–µ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ë–µ–ª–∞—Ä—É—Å–∏:
- **court.gov.by** - –°—É–¥–µ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –†–ë
- **economic.court.by** - –í—ã—Å—à–∏–π —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—É–¥ –†–ë
- **constitutional.court.by** - –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π –°—É–¥ –†–ë

### üáßüáæ –ü—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã:
- **prokuratura.gov.by** - –ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –†–ë
- **mvd.gov.by** - –ú–í–î –†–ë
- **kgb.by** - –ö–ì–ë –†–ë

### üáßüáæ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ –∏ –≤–µ–¥–æ–º—Å—Ç–≤–∞:
- **minjust.gov.by** - –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —é—Å—Ç–∏—Ü–∏–∏ –†–ë
- **minfin.gov.by** - –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –†–ë
- **mintrud.gov.by** - –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —Ç—Ä—É–¥–∞ –†–ë
- **economy.gov.by** - –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ —ç–∫–æ–Ω–æ–º–∏–∫–∏ –†–ë

### üáßüáæ –ù–æ—Ç–∞—Ä–∏–∞—Ç –∏ –∞–¥–≤–æ–∫–∞—Ç—É—Ä–∞:
- **notariat.by** - –ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π –Ω–æ—Ç–∞—Ä–∏–∞—Ç
- **advpalata.by** - –ê–¥–≤–æ–∫–∞—Ç—Å–∫–∞—è –ø–∞–ª–∞—Ç–∞ –†–ë

### üáßüáæ –ü—Ä–∞–≤–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:
- **lawbelarus.com** - –ü—Ä–∞–≤–æ –ë–µ–ª–∞—Ä—É—Å–∏
- **jurist.by** - –Æ—Ä–∏—Å—Ç.–±–∞–π
- **lawyer.by** - –ê–¥–≤–æ–∫–∞—Ç—ã –ë–µ–ª–∞—Ä—É—Å–∏
- **normativka.by** - –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### üá∑üá∫ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ø—Ä–∞–≤–æ–≤—ã–µ –ø–æ—Ä—Ç–∞–ª—ã (–¥–ª—è —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞):
- **garant.ru** - –ü—Ä–∞–≤–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ì–ê–†–ê–ù–¢
- **consultant.ru** - –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–ü–ª—é—Å  
- **pravo.gov.ru** - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ—Ä—Ç–∞–ª –ø—Ä–∞–≤–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **ksrf.ru** - –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π –°—É–¥ –†–§
- **vsrf.ru** - –í–µ—Ä—Ö–æ–≤–Ω—ã–π –°—É–¥ –†–§
- **arbitr.ru** - –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–§

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∞–ø–µ—Ä–∞

–í —Ñ–∞–π–ª–µ `modules/web_scraper.py` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

```python
class WebScraper:
    def __init__(self, knowledge_base, text_processor):
        # ...
        self.max_pages = 50  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
        self.delay = 1       # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—Å–µ–∫—É–Ω–¥—ã)
```

### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫

```python
legal_keywords = [
    '–∑–∞–∫–æ–Ω', '–∫–æ–¥–µ–∫—Å', '–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ', '—É–∫–∞–∑', '–ø—Ä–∏–∫–∞–∑',
    '—Ä–µ–≥–ª–∞–º–µ–Ω—Ç', '–ø–æ–ª–æ–∂–µ–Ω–∏–µ', '–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è', '–º–µ—Ç–æ–¥–∏–∫–∞',
    '–ø—Ä–∞–≤–æ', '—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π', '–ø—Ä–∞–≤–æ–≤–æ–π', '–∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ',
    '—Å—É–¥', '–∞–¥–≤–æ–∫–∞—Ç', '–Ω–æ—Ç–∞—Ä–∏—É—Å', '–¥–æ–≥–æ–≤–æ—Ä', '–∏—Å–∫',
    '–∑–∞—è–≤–ª–µ–Ω–∏–µ', '–∂–∞–ª–æ–±–∞', '–∞–ø–µ–ª–ª—è—Ü–∏—è', '–∫–∞—Å—Å–∞—Ü–∏—è'
]
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –±–æ—Ç–∞

–í —Ñ–∞–π–ª–µ `modules/bot_handler.py`:

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
admin_ids = [123456789]  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–æ—Ü–µ—Å—Å —Å–∫—Ä–∞–ø–∏–Ω–≥–∞:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: HTTP –∑–∞–ø—Ä–æ—Å —Å —Ä–æ—Ç–∞—Ü–∏–µ–π User-Agent
2. **–ü–∞—Ä—Å–∏–Ω–≥ HTML**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞**: –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ü–æ–∏—Å–∫ —Å—Å—ã–ª–æ–∫**: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ
5. **–†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞—Å—Ç–∏ –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
6. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ë–î**: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ ChromaDB —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:

```python
metadata = {
    'source': 'web_scraper',
    'url': 'https://example.com/page',
    'title': '–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã',
    'domain': 'example.com',
    'chunk_index': 0,
    'total_chunks': 5,
    'content_type': 'legal_website'
}
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏–∫–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–∫—Ä–∞–ø–∏–Ω–≥—É:

1. **–£–≤–∞–∂–∞–π—Ç–µ robots.txt**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ñ–∞–π–ª robots.txt –ø–µ—Ä–µ–¥ —Å–∫—Ä–∞–ø–∏–Ω–≥–æ–º
2. **–£–º–µ—Ä–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏–∏**: –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
4. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –æ–±—ä–µ–º**: –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã —Å–∞–π—Ç–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–¥–µ—Ä–∂–µ–∫:

```python
# –í modules/web_scraper.py
self.delay = 2  # –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –±–æ–ª–µ–µ –≤–µ–∂–ª–∏–≤–æ–≥–æ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –º–æ–¥—É–ª—è –≤–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥–∞:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest tests/test_web_scraper.py

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_web_scraper.py::TestWebScraper::test_clean_text
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞:

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `scraping.log`:

```
2024-01-15 10:30:15 - INFO - –°–∫—Ä–∞–ø–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: https://www.garant.ru/
2024-01-15 10:30:18 - INFO - –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π: 25 —á–∞–Ω–∫–æ–≤
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

–ü–æ—Å–ª–µ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π:

```
/stats
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **"Token is invalid"** - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`
2. **"Connection timeout"** - –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. **"No legal content found"** - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–ª–∏ URL
4. **"Rate limited"** - –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏

### –û—Ç–ª–∞–¥–∫–∞:

```python
# –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
import logging
logging.basicConfig(level=logging.DEBUG)

# –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
scraper = create_scraper_from_config()
result = scraper.scrape_single_page("https://example.com")
print(result)
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `scrape_website_async()` –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ThreadPoolExecutor –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–∞–Ω–∫–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```python
# –î–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Å–∞–π—Ç–æ–≤ (–¥–æ 50 —Å—Ç—Ä–∞–Ω–∏—Ü)
max_pages = 20
delay = 1

# –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ (50+ —Å—Ç—Ä–∞–Ω–∏—Ü)  
max_pages = 100
delay = 2
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

–°–æ–∑–¥–∞–π—Ç–µ cron-–∑–∞–¥–∞—á—É –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ 2:00
0 2 * * * cd /path/to/bot && python scripts/scrape_websites.py --demo
```

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞
python scripts/scrape_websites.py --url https://www.garant.ru/ --max-pages 5
``` 