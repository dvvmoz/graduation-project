# –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π - –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ –¥–ª—è –≤–∞—Å

### üìÅ –§–∞–π–ª—ã
1. **`KNOWLEDGE_BASE_UPDATE_GUIDE.md`** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
2. **`quick_update_knowledge_base.py`** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **`update_knowledge_base.bat`** - –ë–∞—Ç—á-—Ñ–∞–π–ª –¥–ª—è Windows

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è Windows (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–π–ª –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
update_knowledge_base.bat
```

### –î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
python quick_update_knowledge_base.py
```

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –î–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 2. üìÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç PDF, DOCX, DOC —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `data/documents/`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ –±–ª–æ–∫–∏
- –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö

### 3. üåê –°–∫—Ä–∞–ø–∏–Ω–≥ —Å–∞–π—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–∞–π—Ç–æ–≤ –∏–∑ `data/legal_sites.txt`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü)
- –î–æ–±–∞–≤–ª—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤

### 4. üîÑ –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–∫—Ä–∞–ø–∏–Ω–≥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### 5. üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ—Å—Ç–æ–≤—ã–º –∑–∞–ø—Ä–æ—Å–∞–º
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –î–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 6. üìà –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–∞ 8 —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π

### –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ **"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π"**
2. –ï—Å–ª–∏ –±–∞–∑–∞ –ø—É—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ **"–ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ"**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ **"–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞"**

### –î–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
1. **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:** "–û–±–Ω–æ–≤–∏—Ç—å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"
2. **–ï–∂–µ–º–µ—Å—è—á–Ω–æ:** "–°–∫—Ä–∞–ø–∏—Ç—å —Å–∞–π—Ç—ã"
3. **–ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:** "–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞"

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –î–æ–∫—É–º–µ–Ω—Ç—ã
```
data/documents/
‚îú‚îÄ‚îÄ –ù–∞–ª–æ–≥–æ–≤—ã–π –∫–æ–¥–µ–∫—Å.pdf
‚îú‚îÄ‚îÄ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å.doc
‚îî‚îÄ‚îÄ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –∫–æ–¥–µ–∫—Å.docx
```

### –°–∞–π—Ç—ã –¥–ª—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞
```
data/legal_sites.txt
- https://pravo.by/
- https://www.government.by/
- https://www.court.gov.by/
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞

### –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- **–û—Ç–ª–∏—á–Ω–æ–µ (< 0.3)** - –ù–∞–π–¥–µ–Ω—ã –≤—ã—Å–æ–∫–æ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **–•–æ—Ä–æ—à–µ–µ (0.3-0.5)** - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ (0.5-0.8)** - –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã  
- **–ù–∏–∑–∫–æ–µ (> 0.8)** - –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- **< 60% –∫–∞—á–µ—Å—Ç–≤–∞:** –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- **60-80% –∫–∞—á–µ—Å—Ç–≤–∞:** –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **> 80% –∫–∞—á–µ—Å—Ç–≤–∞:** –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø—É—Å—Ç–∞
```bash
# –†–µ—à–µ–Ω–∏–µ
python scripts/populate_db.py
```

### –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞
```bash
# –†–µ—à–µ–Ω–∏–µ
python scripts/update_documents.py
python scripts/scrape_websites.py
```

### –û—à–∏–±–∫–∏ ChromaDB
```bash
# –†–µ—à–µ–Ω–∏–µ
# –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É db/chroma_db
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ML-–∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–æ–±–µ–ª—ã –≤ –∑–Ω–∞–Ω–∏—è—Ö:

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
from modules.user_analytics import UserAnalytics
from modules.knowledge_base import get_knowledge_base

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
analytics = UserAnalytics()
queries = analytics.get_popular_unanswered_queries()

# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –≤ –±–∞–∑–µ
kb = get_knowledge_base()
for query in queries:
    should_search, docs = kb.should_use_dynamic_search(query)
    if should_search:
        print(f"–ù—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è: {query}")
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
xcopy "db\chroma_db" "backup\chroma_db_%date%" /E /I
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
rmdir "db\chroma_db" /S /Q
xcopy "backup\chroma_db_backup" "db\chroma_db" /E /I
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á Windows
–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ –¥–ª—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
–ü—Ä–æ–≥—Ä–∞–º–º–∞: update_knowledge_base.bat
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
```

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```python
# auto_update.py
import schedule
import time
from scripts.update_documents import update_all_documents
from scripts.scrape_websites import scrape_multiple_sites

def weekly_update():
    print("üîÑ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...")
    update_all_documents()
    
def monthly_update():
    print("üåê –ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...")
    scrape_multiple_sites(['https://pravo.by/'], max_pages=20)

# –ü–ª–∞–Ω–∏—Ä—É–µ–º –∑–∞–¥–∞—á–∏
schedule.every().monday.at("09:00").do(weekly_update)
schedule.every().first.monday.at("10:00").do(monthly_update)

while True:
    schedule.run_pending()
    time.sleep(3600)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±–µ—Å–ø–µ—á–∞—Ç –≤—ã—Å–æ–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ —á–∞—Ç-–±–æ—Ç–∞.

---

**–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `update_knowledge_base.bat` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –º–µ–Ω—é.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤ —Ñ–∞–π–ª–µ `KNOWLEDGE_BASE_UPDATE_GUIDE.md` 